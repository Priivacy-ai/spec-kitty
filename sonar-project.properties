sonar.projectKey=stijn-dejongh_spec-kitty
sonar.organization=stijn-dejongh
sonar.host.url=https://sonarcloud.io

sonar.sources=src
sonar.tests=tests

sonar.python.version=3.12
sonar.python.coverage.reportPaths=out/reports/coverage/coverage.xml
sonar.python.xunit.reportPath=out/reports/xunit-reports/xunit-result.xml

sonar.sourceEncoding=UTF-8

# Files excluded from all Sonar analysis (quality + security).
sonar.exclusions=\
    **/__pycache__/**,\
    **/*.md,\
    kitty-specs/**,\
    work/**,\
    src/specify_cli/orchestrator/**,\
    src/specify_cli/orchestrator_api/**,\
    src/specify_cli/dashboard/**,\
    src/specify_cli/scripts/**,\
    src/specify_cli/missions/**

# Glue tier is excluded above from Sonar entirely.
# Security scanning for glue is handled by Bandit (CI lint job), which
# runs on all source tiers without exception.
#
# Tier membership is defined in pyproject.toml [tool.coverage_tiers].
# Keep sonar.exclusions in sync with the glue tier include patterns there.

# Supporting and glue tiers are excluded from Sonar coverage metrics.
# The enforced thresholds are managed by scripts/check_coverage.py.
# Legacy migration scripts are also excluded from coverage to keep quality
# signals focused on actively maintained runtime paths.
sonar.coverage.exclusions=\
    src/specify_cli/cli/**,\
    src/specify_cli/glossary/**,\
    src/specify_cli/sync/**,\
    src/specify_cli/frontmatter.py,\
    src/specify_cli/upgrade/migrations/**,\
    src/specify_cli/orchestrator/**,\
    src/specify_cli/orchestrator_api/**,\
    src/specify_cli/dashboard/**,\
    src/specify_cli/scripts/**,\
    src/specify_cli/missions/**

# Exclude migration scripts from copy-paste detection; many are intentionally
# repetitive one-off transforms and create noise in duplication reports.
sonar.cpd.exclusions=\
    src/specify_cli/upgrade/migrations/**
