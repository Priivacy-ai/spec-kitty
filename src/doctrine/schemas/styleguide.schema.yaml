$schema: "https://json-schema.org/draft/2020-12/schema"
$id: "https://spec-kitty.dev/schemas/doctrine/styleguide.schema.yaml"
title: Styleguide
description: Minimal schema for doctrine styleguides.
type: object
additionalProperties: false
required:
  - schema_version
  - id
  - title
  - scope
  - principles
properties:
  schema_version:
    type: string
    pattern: '^1\.0$'
  id:
    type: string
    pattern: '^[a-z][a-z0-9-]*$'
  title:
    type: string
    minLength: 1
  scope:
    type: string
    enum:
      - code
      - docs
      - architecture
      - testing
      - operations
      - glossary
  principles:
    type: array
    minItems: 1
    items:
      type: string
      minLength: 1
  anti_patterns:
    type: array
    minItems: 1
    items:
      type: object
      additionalProperties: false
      required:
        - name
        - description
        - bad_example
        - good_example
      properties:
        name:
          type: string
          minLength: 1
        description:
          type: string
          minLength: 1
        bad_example:
          type: string
          minLength: 1
        good_example:
          type: string
          minLength: 1
  quality_test:
    type: string
    minLength: 1
  references:
    type: array
    items:
      type: string
      minLength: 1
